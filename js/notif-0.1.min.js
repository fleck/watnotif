/*!
Script Notif.js
Author: RÃ©mi Carles
Version: 0.1
*/
"use-strict";var Notif=function(a,b){return this.message=a||" ",this.type=b||"default",Notif.prototype.hasBeenInit=!!Notif.prototype.hasBeenInit||this.init(),this};Notif.setWrapperOptions=function(b){Notif.prototype.duration=b.duration||2500},Notif.prototype.getWrapper=function(){var b;return document.getElementById("notif-wrapper")?b=document.getElementById("notif-wrapper"):(b=document.createElement("div"),b.id="notif-wrapper",document.body.appendChild(b)),b},Notif.prototype.getBase=function(b,c){var d=document.createElement("div"),e=document.createElement("button"),f=document.createElement("p");return function(a){a.setAttribute("type","button"),a.className="close-notif",a.innerHTML="&times;"}(e),function(a){a.className="msg",a.innerHTML=c}(f),function(a){a.setAttribute("data-role","notification"),a.className="notif "+b+" inactive",a.appendChild(e),a.appendChild(f)}(d),d},Notif.prototype.init=function(){if(!this.hasBeenInit)return this.getWrapper().onclick=function(a){var b=function(a){for(var b=a.parentNode;b!=document.body;){if(b.getAttribute("data-role")&&"notification"==b.getAttribute("data-role"))return b;b=b.parentNode}return null},c=a.target.getAttribute("data-role")&&"notification"==a.target.getAttribute("data-role")?a.target:b(a.target);return!c||(c.className+=" inactive going-out",setTimeout(function(){Notif.prototype.getWrapper().removeChild(c)},300),a.stopPropagation(),void 0)},Notif.prototype.hasBeenInit=!0},Notif.prototype.display=function(b){var c=this.getWrapper().insertBefore(this.getBase(this.type,this.message),this.getWrapper().firstChild),b=b||this.duration;if(setTimeout(function(){c.className=c.className.replace("inactive","")},10),"undefined"!=typeof b&&b>0){var d=new Notif.prototype.Timer(function(){c.click()},b);c.addEventListener("mouseenter",function(a){d.pause(),a.stopPropagation()}),c.addEventListener("mouseleave",function(a){d.resume(),a.stopPropagation()})}return this},Notif.prototype.Timer=function(b,c){var d,e,f=c;this.pause=function(){window.clearTimeout(d),f-=new Date-e},this.resume=function(){e=new Date,window.clearTimeout(d),d=window.setTimeout(b,f)},this.resume()};